import{d as y,w as f}from"./index.6wxLekeV.js";let m,l;function w(t){if(typeof document>"u")return;clearTimeout(m),clearTimeout(l);const e=document.createElement("style"),r=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(r);const o=()=>document.head.appendChild(e),n=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){o(),t(),window.getComputedStyle(e).opacity,n();return}if(typeof window.requestAnimationFrame<"u"){o(),t(),window.requestAnimationFrame(n);return}o(),m=window.setTimeout(()=>{t(),l=window.setTimeout(n,120)},120)}const p={getItem:t=>null,setItem:(t,e)=>{}},a=typeof document<"u",c="mode",u=v(),g=b(),S=k();function v(){const t="system",e=a?localStorage:p;let r=e.getItem(c)||t;const{subscribe:o,set:n}=f(r,()=>{if(a){const s=i=>{i.key===c&&n(r=i.newValue||t)};return addEventListener("storage",s),()=>removeEventListener("storage",s)}});function d(s){n(r=s),e.setItem(c,r)}return{subscribe:o,set:d}}function b(){let e=!0;const{subscribe:r,set:o}=f(void 0,()=>{if(a){const s=h=>{e&&o(h.matches?"light":"dark")},i=window.matchMedia("(prefers-color-scheme: light)");return i.addEventListener("change",s),()=>i.removeEventListener("change",s)}});function n(){if(a){const s=window.matchMedia("(prefers-color-scheme: light)");o(s.matches?"light":"dark")}}function d(s){e=s}return{subscribe:r,query:n,tracking:d}}function k(){const{subscribe:t}=y([u,g],([e,r])=>{if(!a)return;const o=e==="system"?r:e;return w(()=>{const n=document.documentElement;o==="light"?(n.classList.remove("dark"),n.style.colorScheme="light"):(n.classList.add("dark"),n.style.colorScheme="dark")}),o});return{subscribe:t}}function E(t){u.set(t)}function L(){u.set("system")}export{E as a,S as d,c as l,L as r,g as s};
